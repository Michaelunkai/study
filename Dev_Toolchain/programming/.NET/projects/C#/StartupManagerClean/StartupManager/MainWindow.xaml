<Window x:Class="StartupManager.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:ui="http://schemas.modernwpf.com/2019"
        ui:WindowHelper.UseModernWindowStyle="True"
        Title="Startup Manager [ADMINISTRATOR]"
        Width="1100" Height="600"
        MinWidth="900" MinHeight="400">
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Toolbar -->
        <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="15,15,15,10">
            <Button Content="Refresh" Width="90" Height="32" Margin="0,0,10,0" Click="Refresh_Click"/>
            <Button Content="Add New" Width="90" Height="32" Click="AddNew_Click" Style="{StaticResource AccentButtonStyle}"/>
            <TextBlock Text="  ðŸ”“ FULL ADMIN MODE - All items can be modified" 
                       VerticalAlignment="Center" Foreground="LimeGreen" FontWeight="SemiBold" Margin="20,0,0,0"/>
        </StackPanel>

        <!-- Items List -->
        <DataGrid x:Name="ItemsGrid" Grid.Row="1" Margin="15,0"
                  AutoGenerateColumns="False"
                  CanUserAddRows="False"
                  CanUserSortColumns="True"
                  SelectionMode="Single"
                  HeadersVisibility="Column"
                  GridLinesVisibility="Horizontal"
                  RowHeight="45">
            <DataGrid.Columns>
                <DataGridTextColumn Header="Name" Binding="{Binding Name}" Width="180" SortMemberPath="Name"/>
                <DataGridTextColumn Header="Command" Binding="{Binding Command}" Width="*" SortMemberPath="Command"/>
                <DataGridTextColumn Header="Location" Binding="{Binding Location}" Width="240" SortMemberPath="Location"/>
                <DataGridTemplateColumn Header="Status" Width="100" SortMemberPath="IsEnabled">
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <TextBlock Text="{Binding IsEnabled, Converter={StaticResource BoolToStatusConverter}}" 
                                       Foreground="{Binding IsEnabled, Converter={StaticResource BoolToColorConverter}}"/>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
                <DataGridTemplateColumn Header="Actions" Width="200">
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                                <Button Content="Enable" Width="65" Height="28" Margin="2" Click="Enable_Click">
                                    <Button.Style>
                                        <Style TargetType="Button" BasedOn="{StaticResource {x:Type Button}}">
                                            <Setter Property="Visibility" Value="Visible"/>
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding IsEnabled}" Value="True">
                                                    <Setter Property="Visibility" Value="Collapsed"/>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Button.Style>
                                </Button>
                                <Button Content="Disable" Width="65" Height="28" Margin="2" Click="Disable_Click">
                                    <Button.Style>
                                        <Style TargetType="Button" BasedOn="{StaticResource {x:Type Button}}">
                                            <Setter Property="Visibility" Value="Visible"/>
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding IsEnabled}" Value="False">
                                                    <Setter Property="Visibility" Value="Collapsed"/>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Button.Style>
                                </Button>
                                <Button Content="Delete" Width="65" Height="28" Margin="2" Click="Delete_Click"/>
                            </StackPanel>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
            </DataGrid.Columns>
        </DataGrid>

        <!-- Status Bar -->
        <Border Grid.Row="2" Background="{DynamicResource SystemControlBackgroundChromeMediumBrush}" Height="30">
            <TextBlock x:Name="StatusText" Text="Ready" VerticalAlignment="Center" Margin="15,0"/>
        </Border>
    </Grid>
</Window>
