# ============================================================================
# TOVPLAY UNIFIED ENVIRONMENT CONFIGURATION
# ============================================================================
# Copy this file to .env and fill in values for your environment
# Used by: docker-compose.yml, backend, frontend
#
# ENVIRONMENTS:
# - Development: localhost URLs, full debug output
# - Staging: staging.tovplay.org URLs
# - Production: app.tovplay.org URLs
# ============================================================================

# ==============================================================================
# DOCKER & BUILD SETTINGS
# ==============================================================================
BUILD_TARGET=development                    # Options: development, staging, production
BACKEND_IMAGE=tovtech/tovplaybackend:latest
FRONTEND_IMAGE=tovtech/tovplayfrontend:latest
CONTAINER_NAME=tovplay-backend-dev
FRONTEND_CONTAINER_NAME=tovplay-frontend-dev
NETWORK_NAME=tovplay-network
NODE_ENV=development

# ==============================================================================
# BACKEND APPLICATION
# ==============================================================================
FLASK_APP=wsgi:create_app
FLASK_ENV=development
SECRET_KEY=change-me-to-secure-random-32-chars-minimum
JWT_SECRET_KEY=change-me-to-secure-random-32-chars-minimum
JWT_ALGORITHM=HS256

# ==============================================================================
# DATABASE CONFIGURATION
# ==============================================================================
# Production/Staging: External PostgreSQL (shared)
POSTGRES_USER=raz@tovtech.org
POSTGRES_PASSWORD=CaptainForgotCreatureBreak
POSTGRES_HOST=45.148.28.196
POSTGRES_DB=TovPlay
POSTGRES_PORT=5432
DATABASE_URL=postgresql://raz%40tovtech.org:CaptainForgotCreatureBreak@45.148.28.196:5432/TovPlay

# Local Development with Docker: Uncomment to use local PostgreSQL
# POSTGRES_HOST=db
# DATABASE_URL=postgresql://postgres:postgres@db:5432/tovplay

# ==============================================================================
# EMAIL CONFIGURATION
# ==============================================================================
EMAIL_SENDER=noreply@tovtech.org
EMAIL_PASSWORD=hD%hCt7hyxFFDuH6
SMTP_SERVER=iah-s01.nixihost.com
SMTP_PORT=465

# ==============================================================================
# WEBSITE URLS (Environment-Specific)
# ==============================================================================
# Development:
WEBSITE_URL=http://localhost:3000
APP_URL=http://localhost:3000
ALLOWED_ORIGINS=http://localhost:3000

# Production: Uncomment for production
# WEBSITE_URL=https://app.tovplay.org
# APP_URL=https://app.tovplay.org
# ALLOWED_ORIGINS=https://app.tovplay.org

# Staging: Uncomment for staging
# WEBSITE_URL=https://staging.tovplay.org
# APP_URL=https://staging.tovplay.org
# ALLOWED_ORIGINS=https://staging.tovplay.org

# ==============================================================================
# SECURITY & RATE LIMITING
# ==============================================================================
# Development:
RATE_LIMIT_PER_MINUTE=100
RATE_LIMIT_PER_HOUR=6000
LOG_LEVEL=DEBUG

# Production: Uncomment for production
# RATE_LIMIT_PER_MINUTE=60
# RATE_LIMIT_PER_HOUR=3600
# LOG_LEVEL=WARNING

# ==============================================================================
# DISCORD OAUTH CONFIGURATION
# ==============================================================================
DISCORD_CLIENT_ID=1432633014071853108
CLIENT_SECRET=5OMl6beavfAO9CfjaTLlkMbJGx4JA4CE
DISCORD_USER_ID=1432630222934773835
DISCORD_GUILD_ID=1432632270853898240
DISCORD_PUBLIC_KEY=c8d5d841d40043b91bc631bbdddc689d6d0bc809d3ce0c5b1bb3d50a6c508227
DISCORD_TOKEN=MTQzMjYzMzAxNDA3MTg1MzEwOA.GRckM5.D3Nd_XVrtUWb0RJS12plUKtH3iIAEOw352GutY
DISCORD_BOT_URL=https://discord.com/oauth2/authorize?client_id=1432633014071853108&permissions=268504080&integration_type=0&scope=bot
DISCORD_PERMISSIONS_INTEGER=17601044433953
DISCORD_URL=https://discord.com
DISCORD_INVITE_LINK=https://discord.gg/FSVxjGAW

# Environment-specific Discord redirect:
# Development:
DISCORD_REDIRECT_URI=http://localhost:5001/api/discord/callback

# Production: Uncomment for production
# DISCORD_REDIRECT_URI=https://app.tovplay.org/api/discord/callback

# Staging: Uncomment for staging
# DISCORD_REDIRECT_URI=https://staging.tovplay.org/api/discord/callback

# ==============================================================================
# API KEYS
# ==============================================================================
API_KEY=your-api-key-here

# ==============================================================================
# DOCKER COMPOSE PORTS
# ==============================================================================
BACKEND_PORT=8000
FRONTEND_PORT=3000
POSTGRES_PORT=5432

# ==============================================================================
# DOCKER BUILD SETTINGS
# ==============================================================================
SOURCE_MOUNT=.:/app
BACKEND_COMMAND=flask run --host=0.0.0.0 --port=5001 --debug

# ==============================================================================
# FRONTEND VITE CONFIGURATION
# ==============================================================================
VITE_NODE_ENV=development

# Development:
VITE_API_BASE_URL=http://localhost:5001
VITE_WS_URL=http://localhost:5001
VITE_API_TIMEOUT=30000
VITE_ENABLE_DEBUG=true
VITE_ENABLE_ANALYTICS=false
VITE_ENABLE_ERROR_REPORTING=false

# Production: Uncomment for production
# VITE_API_BASE_URL=https://app.tovplay.org
# VITE_WS_URL=wss://app.tovplay.org
# VITE_API_TIMEOUT=10000
# VITE_ENABLE_DEBUG=false
# VITE_ENABLE_ANALYTICS=true
# VITE_ENABLE_ERROR_REPORTING=true

# Staging: Uncomment for staging
# VITE_API_BASE_URL=https://staging.tovplay.org
# VITE_WS_URL=ws://staging.tovplay.org
# VITE_API_TIMEOUT=30000

# ==============================================================================
# ERROR REPORTING & MONITORING
# ==============================================================================
VITE_ERROR_REPORTING_ENDPOINT=http://localhost:5001/api/errors
VITE_SENTRY_DSN=
VITE_ENV=development
VITE_APP_VERSION=1.0.0

# ==============================================================================
# OAUTH PROVIDERS
# ==============================================================================
VITE_GOOGLE_CLIENT_ID=
VITE_DISCORD_INVITE_LINK=https://discord.gg/FSVxjGAW

# ==============================================================================
# MONITORING STACK (Optional, use: docker-compose --profile monitoring up)
# ==============================================================================
GRAFANA_PASSWORD=tovplay2024!
GRAFANA_ROOT_URL=http://localhost:3002

# ==============================================================================
# TESTING
# ==============================================================================
TEST_DATABASE_URL=sqlite:///:memory:
